---
title: 自动生成表单数据
date: 2021-08-27 11:23:03
author: lsy
readmore: true
tags: 
  - JS
  - 脚本
    
categories:
  -JS
---
动态监听表标签.根据请假的起始日期和结束日期能够自动填写出请假天数,
<!-- more -->

```js
    var $scope =AngularUtil.getScope();
    $scope.$watch("data.YGQJBDX_431300_DX.QJ_ENDTIME",function(n,o){
      var x1=$scope.data.YGQJBDX_431300_DX.QJ_STARTTIME;
      var x2=$scope.data.YGQJBDX_431300_DX.QJ_ENDTIME;
      var date1=new Date(x1);
      var date2=new Date(x2);
      var time1=date1.getTime();
      var time2=date2.getTime();
      var dayCount=parseInt((time2-time1)/(24*60*60*1000));
      $scope.data.YGQJBDX_431300_DX.QJ_DATECOUNT=dayCount;
      $scope.$apply();
    })
```